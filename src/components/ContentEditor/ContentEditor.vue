<template>
  <div class="content-editor">
    <div class="content-wrapper">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="600"
        height="900"
        fill="none"
      >
        <g filter="url(#filter0_d)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M322.492 523.085C322.492 540.136 322.492 548.661 319.59 557.838C315.943 567.859 307.615 576.187 297.594 579.834C288.417 582.736 279.892 582.736 262.841 582.736H145.882C128.831 582.736 120.306 582.736 111.128 579.834C101.108 576.187 92.9972 568.076 89.35 558.056C86.4482 548.879 86.4482 540.353 86.4482 523.303V145.695C86.4482 128.644 86.4482 120.119 89.35 110.942C92.9972 100.921 101.108 92.8104 111.128 89.1632C120.306 86.2615 128.831 86.2615 145.882 86.2615H262.841C279.892 86.2615 288.417 86.2615 297.594 89.1632C307.615 92.8104 315.943 101.139 319.59 111.159C322.492 120.337 322.492 128.862 322.492 145.913V523.085Z"
            fill="white"
          />
        </g>
        <g filter="url(#filter1_i)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M204.751 529.757C215.743 529.757 224.654 538.542 224.654 549.379C224.654 560.217 215.743 569.002 204.751 569.002C193.759 569.002 184.849 560.217 184.849 549.379C184.849 538.542 193.759 529.757 204.751 529.757Z"
            fill="white"
          />
        </g>
        <g filter="url(#filter2_i)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M188.24 119.064H220.702C221.992 119.064 223.257 120.319 223.257 121.866C223.257 123.413 221.992 124.667 220.702 124.667H188.24C186.949 124.667 185.685 123.413 185.685 121.866C185.685 120.319 186.949 119.064 188.24 119.064Z"
            fill="white"
          />
        </g>
        <rect
          width="210.253"
          height="373.783"
          transform="translate(99.0168 146.674)"
          fill="url(#paint0_linear)"
        />
        <rect
          x="99.0168"
          y="146.674"
          width="210.253"
          height="373.783"
          fill="#D8D8D8"
        />
        <mask
          id="mask0"
          mask-type="alpha"
          maskUnits="userSpaceOnUse"
          x="99"
          y="146"
          width="211"
          height="375"
        >
          <rect
            x="99.0168"
            y="146.674"
            width="210.253"
            height="373.783"
            fill="white"
          />
        </mask>
        <g mask="url(#mask0)"></g>
        <defs>
          <filter
            id="filter0_d"
            x="0.848242"
            y="0.661475"
            width="410.044"
            height="670.475"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            />
            <feOffset dx="1.4" dy="1.4" />
            <feGaussianBlur stdDeviation="43.5" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow"
              result="shape"
            />
          </filter>
          <filter
            id="filter1_i"
            x="184.849"
            y="529.757"
            width="39.8048"
            height="65.2451"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="BackgroundImageFix"
              result="shape"
            />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="26" />
            <feGaussianBlur stdDeviation="17.5" />
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"
            />
            <feBlend mode="normal" in2="shape" result="effect1_innerShadow" />
          </filter>
          <filter
            id="filter2_i"
            x="185.685"
            y="119.064"
            width="37.5716"
            height="8.60244"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="BackgroundImageFix"
              result="shape"
            />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="3" />
            <feGaussianBlur stdDeviation="12" />
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.07 0"
            />
            <feBlend mode="normal" in2="shape" result="effect1_innerShadow" />
          </filter>
          <linearGradient
            id="paint0_linear"
            x1="105.126"
            y1="0"
            x2="105.126"
            y2="373.783"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="white" />
            <stop offset="0.98895" stop-color="white" stop-opacity="0" />
          </linearGradient>
        </defs>
      </svg>
      <div class="editable-content">
        <draggable v-model="data">
          <transition-group name="flip-list" tag="div">
            <div class="list-item" v-for="item in data" :key="item.id">
              {{ item.title }}
            </div>
          </transition-group>
        </draggable>
      </div>
    </div>
  </div>
</template>

<script lang="ts">
import { Component, Vue } from 'vue-property-decorator'
import draggable from 'vuedraggable'

interface Item {
  title: string
  id: number
}

@Component({
  name: 'ContentEditor',
  components: {
    draggable,
  },
})
export default class ContentEditor extends Vue {
  data: Item[] = [
    {
      title: 'Item 1',
      id: 1,
    },
    {
      title: 'Item 2',
      id: 2,
    },
    {
      title: 'Item 3',
      id: 3,
    },
    {
      title: 'Item 4',
      id: 4,
    },
  ]
}
</script>

<style scoped lang="scss">
.content-editor {
  flex: 1;
  background-color: #e5e5e5;

  .content-wrapper {
    position: relative;

    .editable-content {
      position: absolute;
      left: 0;
      top: 0;
    }
  }

  .list-item {
    margin: 4px;
    background-color: #fff;
    padding: 16px;
    border: 1px solid #240505;
  }

  .flip-list-move {
    transition: transform 0.3s;
  }
}
</style>
